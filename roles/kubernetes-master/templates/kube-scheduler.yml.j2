---
apiVersion: v1
kind: Pod
metadata:
  name: kube-scheduler
  namespace: kube-system
  labels:
    k8s-app: kube-scheduler
spec:
  containers:
    -
      command:
        - /usr/bin/run.sh
        - "--master=https://{{ groups["k8s-master"][0] }}:6443 --kubeconfig=/etc/kubernetes/kubeconfig-master"

      #image: "duizhang/kube-scheduler:1.4.7-run"
      image: "duizhang/kube-scheduler:1.5.1"
      name: kube-scheduler
      volumeMounts:
        -
          mountPath: /opt/k8s
          name: sslcert
          readOnly: true
        -
          mountPath: /etc/kubernetes/
          name: etc-kube-ssl
          readOnly: true
  dnsPolicy: ClusterFirst
  hostNetwork: true
  restartPolicy: Always
  terminationGracePeriodSeconds: 30
  volumes:
    -
      hostPath:
        path: /opt/k8s
      name: sslcert
    -
      hostPath:
        path: /etc/kubernetes/
      name: etc-kube-ssl
